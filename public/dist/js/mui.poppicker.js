!function(e,i){var t='<div class="mui-poppicker">		<div class="mui-poppicker-header">			<button class="mui-btn mui-poppicker-btn-cancel">取消</button>			<button class="mui-btn mui-btn-blue mui-poppicker-btn-ok">确定</button>			<div class="mui-poppicker-clear"></div>		</div>		<div class="mui-poppicker-body">		</div>	</div>',s='<div class="mui-listpicker">		<div class="mui-listpicker-inner">			<ul>			</ul>		</div>	</div>';e.PopPicker=e.Class.extend({init:function(s){var a=this;a.options=s||{},a.options.buttons=a.options.buttons||["取消","确定"],a.panel=e.dom(t)[0],i.body.appendChild(a.panel),a.ok=a.panel.querySelector(".mui-poppicker-btn-ok"),a.cancel=a.panel.querySelector(".mui-poppicker-btn-cancel"),a.body=a.panel.querySelector(".mui-poppicker-body"),a.mask=e.createMask(),a.cancel.innerText=a.options.buttons[0],a.ok.innerText=a.options.buttons[1],a.cancel.addEventListener("tap",function(e){a.hide()},!1),a.ok.addEventListener("tap",function(e){if(a.callback){var i=a.callback(a.getSelectedItems());i!==!1&&a.hide()}},!1),a.mask[0].addEventListener("tap",function(){a.hide()},!1),a._createListPicker()},_createListPicker:function(){var i=this,t=i.options.layer||1,a=100/t+"%";i.pickers=[];for(var n=1;t>=n;n++){var c=e.dom(s)[0];c.style.width=a,i.body.appendChild(c),e(c).listpicker(),i.pickers.push(c),c.addEventListener("change",function(e){var i=this.nextSibling;if(i&&i.listpickerId){var t=e.detail||{},s=t.item||{};i.setItems(s.children)}},!1)}},setData:function(e){var i=this;e=e||[],i.pickers[0].setItems(e)},getSelectedItems:function(){var e=this,i=[];for(var t in e.pickers){var s=e.pickers[t];i.push(s.getSelectedItem()||{})}return i},show:function(t){var s=this;s.callback=t,s.mask.show(),i.body.classList.add(e.className("poppicker-active-for-page")),s.panel.classList.add(e.className("active"))},hide:function(){var t=this;t.disposed||(t.panel.classList.remove(e.className("active")),t.mask.close(),i.body.classList.remove(e.className("poppicker-active-for-page")))},dispose:function(){var e=this;e.hide(),setTimeout(function(){e.panel.parentNode.removeChild(e.panel);for(var i in e)e[i]=null,delete e[i];e.disposed=!0},300)}})}(mui,document);